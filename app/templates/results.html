{% extends 'base.html' %}
{% block title %} Your Results {% endblock %}
{% block content %}

<h1 class="text-center">Your Results</h1>
<br>
{% if all_tests == [] %}

    <p class="text-center">You have not yet completed the test! Please return to your garden to choose a section.</p>
    <p class="text-center">The sections  you still need to complete are listed below:</p>
    <br>
    {% for module in incomplete_modules %}
    <div id= "results">
        <ul id= "list">
            <li>{{module}}</li>
        </ul>
    </div>
     
    {% endfor %}
      
    <br>
    <a href='/yourgarden' class= "button d-block" >Your Garden</a> 
 
{% else %}    

    {% if current_test == None %}
    <p class="text-center">Your test results are listed below, with the most recent at the top; the total score is out of a possible mark of 100.
    </p>

    <p class="text-center"> If you would like to take the test again, please return to Your Garden and pick a section  to get started!</p>
    
    <table class= "table table-bordered table-hover">
        <tr>
            <td>Date Completed</td>
            <td>Total Score</td>
            <td>Attention Score</td>
            <td>Fluency Score</td>
            <td>Language Score</td>
            <td>Memory Score</td>
            <td>Visuospatial Score</td>
        </tr>
        {% for test in all_tests %}
            <tr>
            <td>{{test.date_completed.date().strftime('%d-%m-%Y')}}</td>  
            <td>{{test.total_score}}</td>
            <td>{{test.attention}} </td>
            <td>{{test.fluency}} </td>
            <td>{{test.language}} </td>
            <td>{{test.memory}}</td> 
            <td>{{test.visuospatial}}</td> 
            </tr>
        {% endfor %}    
    </table>

    <p>If you would like further advice regarding your results, or anything else to do with Mild Cognitive Impairment, please visit the Support page.</p>
    

    {% else %}
    <p class="text-center">As you are part way through your current test, the results are not yet available. The sections you still need to complete are listed below:</p>
        {% for module in incomplete_modules %}
            <div id= "results">
                <ul id= "list">
                    <li>{{module}}</li>
                </ul>
            </div>
        {% endfor %}
        <br>
        <p>Here are the results from your previous tests; the total score is out of a possible mark of 100.</p>
    
        <table class= "table table-bordered table-hover">
            <tr>
                <td>Date Completed</td>
                <td>Total Score</td>
                <td>Attention Score</td>
                <td>Fluency Score</td>
                <td>Language Score</td>
                <td>Memory Score</td>
                <td>Visuospatial Score</td>
            </tr>
            {% for test in all_tests %}
                <tr>
                <td>{{test.date_completed.date().strftime('%d-%m-%Y')}}</td>  
                <td>{{test.total_score}}</td>
                <td>{{test.attention}} </td>
                <td>{{test.fluency}} </td>
                <td>{{test.language}} </td>
                <td>{{test.memory}}</td> 
                <td>{{test.visuospatial}}</td> 
                </tr>
            {% endfor %}    
        </table>
    
        <p>If you would like further advice regarding your results, or anything else to do with Mild Cognitive Impairment, please visit the Support page.</p>
        
    {% endif %}

   
{% endif %}







{% endblock %}